{"version":3,"file":"date-input-polyfill.umd.js","sources":["../node_modules/style-inject/dist/style-inject.es.js","../src/picker.js","../src/dateformat.js","../src/locales.js","../src/input.js","../src/date-input-polyfill.js"],"sourcesContent":["function styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nexport default styleInject;\n","class Picker {\n  constructor() {\n    // This is a singleton.\n    if(window.thePicker) {\n      return window.thePicker;\n    }\n\n    this.date = new Date();\n    this.input = null;\n    this.isOpen = false;\n\n    // The picker element. Unique tag name attempts to protect against\n    // generic selectors.\n    this.container = document.createElement(`date-input-polyfill`);\n\n    // Add controls.\n    // Year picker.\n    this.year = document.createElement(`select`);\n    Picker.createRangeSelect(\n      this.year,\n      1890, // oldest person alive born in 1894\n      this.date.getFullYear() + 20\n    );\n    this.year.className = `yearSelect`;\n    this.year.addEventListener(`change`, ()=> {\n      this.date.setYear(this.year.value);\n      this.refreshDaysMatrix();\n    });\n    const yearWrapper = document.createElement(`span`);\n    yearWrapper.className = `yearSelect-wrapper`;\n    yearWrapper.appendChild(this.year);\n    this.container.appendChild(yearWrapper);\n\n    // Month picker.\n    this.month = document.createElement(`select`);\n    this.month.className = `monthSelect`;\n    this.month.addEventListener(`change`, ()=> {\n      this.date.setMonth(this.month.value);\n      this.refreshDaysMatrix();\n    });\n    const monthWrapper = document.createElement(`span`);\n    monthWrapper.className = `monthSelect-wrapper`;\n    monthWrapper.appendChild(this.month);\n    this.container.appendChild(monthWrapper);\n\n    // Today button.\n    this.today = document.createElement(`button`);\n    this.today.textContent = `Today`;\n    this.today.addEventListener(`click`, ()=> {\n      const today = new Date();\n      this.date = new Date(\n        `${\n          today.getFullYear()\n        }/${\n          `0${today.getMonth()+1}`.slice(-2)\n        }/${\n          `0${today.getDate()}`.slice(-2)\n        }`\n      );\n      this.setInput();\n    });\n    this.container.appendChild(this.today);\n\n    // Setup unchanging DOM for days matrix.\n    const daysMatrix = document.createElement(`table`);\n    this.daysHead = document.createElement(`thead`);\n    this.days = document.createElement(`tbody`);\n\n    // THIS IS THE BIG PART.\n    // When the user clicks a day, set that day as the date.\n    // Uses event delegation.\n    this.days.addEventListener(`click`, e=> {\n      const tgt = e.target;\n\n      if(!tgt.hasAttribute(`data-day`)) {\n        return false;\n      }\n\n      const curSel = this.days.querySelector(`[data-selected]`);\n      if(curSel) {\n        curSel.removeAttribute(`data-selected`);\n      }\n      tgt.setAttribute(`data-selected`, ``);\n\n      this.date.setDate(parseInt(tgt.textContent));\n      this.setInput();\n    });\n\n    daysMatrix.appendChild(this.daysHead);\n    daysMatrix.appendChild(this.days);\n    this.container.appendChild(daysMatrix);\n\n    this.hide();\n    document.body.appendChild(this.container);\n\n    this.removeClickOut = e => {\n      if(this.isOpen) {\n        let el = e.target;\n        let isPicker = el === this.container || el === this.input;\n        while(!isPicker && (el = el.parentNode)) {\n          isPicker = el === this.container;\n        }\n        ((e.target.getAttribute(`type`) !== `date` && !isPicker) || !isPicker)\n          && this.hide();\n      }\n    };\n\n    this.removeBlur = e => {\n      if(this.isOpen) {\n        this.hide();\n      }\n    };\n  }\n\n  // Hide.\n  hide() {\n    this.container.setAttribute(`data-open`, this.isOpen = false);\n    // Close the picker when clicking outside of a date input or picker.\n    if(this.input) { this.input.blur() }\n    document.removeEventListener(`mousedown`, this.removeClickOut);\n    document.removeEventListener(`touchstart`, this.removeClickOut);\n  }\n\n  // Show.\n  show() {\n    this.container.setAttribute(`data-open`, this.isOpen = true);\n    // Close the picker when clicking outside of a date input or picker.\n    setTimeout(()=>{\n      document.addEventListener(`mousedown`, this.removeClickOut);\n      document.addEventListener(`touchstart`, this.removeClickOut);\n    }, 500);\n\n    // when used in a single-page app  or otherwise,\n    // hide datepicker when the browser's back button is pressed\n    window.onpopstate = () => {\n      this.hide();\n    }\n  }\n\n  // Position picker below element. Align to element's right edge.\n  goto(element) {\n    const rekt = element.getBoundingClientRect();\n    this.container.style.top = `${\n      rekt.top + rekt.height\n      + (document.documentElement.scrollTop || document.body.scrollTop)\n      + 3\n    }px`;\n\n    const contRekt = this.container.getBoundingClientRect();\n    const width = contRekt.width ? contRekt.width : 280;\n\n    const classWithOutPos = () => {\n      return this.container.className\n        .replace(`polyfill-left-aligned`, ``)\n        .replace(`polyfill-right-aligned`, ``)\n        .replace(/\\s+/g,` `).trim();\n    };\n\n    let base = rekt.right - width;\n    if(rekt.right < width) {\n      base = rekt.left;\n      this.container.className = `${classWithOutPos()} polyfill-left-aligned`;\n    } else {\n      this.container.className = `${classWithOutPos()} polyfill-right-aligned`;\n    }\n    this.container.style.left = `${\n      base\n      + (document.documentElement.scrollLeft || document.body.scrollLeft)\n    }px`;\n    this.show();\n  }\n\n  // Initiate I/O with given date input.\n  attachTo(input) {\n    if(input === this.input && this.isOpen) {\n      return false;\n    }\n\n    this.input = input;\n    this.refreshLocale();\n    this.sync();\n    this.goto(this.input);\n    return true;\n  }\n\n  // Match picker date with input date.\n  sync() {\n    // fixes bug where an empty calendar appears if year is missing from keyboard input\n    if (!isNaN(Date.parse(this.input.valueAsDate))) {\n      this.date = Picker.absoluteDate(this.input.valueAsDate);\n    } else {\n      this.date = new Date();\n    }\n\n    this.year.value = this.date.getFullYear();\n    this.month.value = this.date.getMonth();\n    this.refreshDaysMatrix();\n  }\n\n  // Match input date with picker date.\n  setInput() {\n    this.input.valueAsDate = this.date;\n    this.input.focus();\n    setTimeout(()=> { // IE wouldn't hide, so in a timeout you go.\n      this.hide();\n    }, 100);\n\n    this.pingInput();\n  }\n\n  refreshLocale() {\n    if(this.locale === this.input.locale) {\n      return false;\n    }\n\n    this.locale = this.input.locale;\n\n    this.today.textContent = this.locale.today || `Today`;\n\n    const daysHeadHTML = [`<tr>`];\n    for(let i = 0, len = this.locale.days.length; i < len; ++i) {\n      daysHeadHTML.push(`<th scope=\"col\">${this.locale.days[i]}</th>`);\n    }\n    this.daysHead.innerHTML = daysHeadHTML.join(``);\n\n    Picker.createRangeSelect(\n      this.month,\n      0,\n      11,\n      this.locale.months\n    );\n  }\n\n  refreshDaysMatrix() {\n    this.refreshLocale();\n\n    // Determine days for this month and year,\n    // as well as on which weekdays they lie.\n    const year = this.date.getFullYear(); // Get the year (2016).\n    const month = this.date.getMonth(); // Get the month number (0-11).\n    const startDay = new Date(year, month, 1).getDay(); // First weekday of month (0-6).\n    const maxDays = new Date(\n      this.date.getFullYear(),\n      month + 1,\n      0\n    ).getDate(); // Get days in month (1-31).\n\n    // The input's current date.\n    const selDate = Picker.absoluteDate(this.input.valueAsDate) || false;\n\n    // Are we in the input's currently-selected month and year?\n    const selMatrix =\n      selDate\n      && year === selDate.getFullYear()\n      && month === selDate.getMonth();\n\n    // Populate days matrix.\n    const matrixHTML = [];\n    for(let i = 0; i < maxDays + startDay; ++i) {\n      // Add a row every 7 days.\n      if(i % 7 === 0) {\n        matrixHTML.push(`\n          ${i !== 0 ? `</tr>` : ``}\n          <tr>\n        `);\n      }\n\n      // Add new column.\n      // If no days from this month in this column, it will be empty.\n      if(i + 1 <= startDay) {\n        matrixHTML.push(`<td></td>`);\n        continue;\n      }\n\n      // Populate day number.\n      const dayNum = i + 1 - startDay;\n      const selected = selMatrix && selDate.getDate() === dayNum;\n\n      matrixHTML.push(\n        `<td data-day ${selected ? `data-selected` : ``}>\n          ${dayNum}\n        </td>`\n      );\n    }\n\n    this.days.innerHTML = matrixHTML.join(``);\n  }\n\n  pingInput() {\n    // Dispatch DOM events to the input.\n    let inputEvent;\n    let changeEvent;\n\n    // Modern event creation.\n    try {\n      inputEvent = new Event(`input`);\n      changeEvent = new Event(`change`);\n    }\n    // Old-fashioned way.\n    catch(e) {\n      inputEvent = document.createEvent(`KeyboardEvent`);\n      inputEvent.initEvent(`input`, true, false);\n      changeEvent = document.createEvent(`KeyboardEvent`);\n      changeEvent.initEvent(`change`, true, false);\n    }\n\n    this.input.dispatchEvent(inputEvent);\n    this.input.dispatchEvent(changeEvent);\n  }\n\n  static createRangeSelect(theSelect, min, max, namesArray) {\n    theSelect.innerHTML = ``;\n\n    for(let i = min; i <= max; ++i) {\n      const aOption = document.createElement(`option`);\n      theSelect.appendChild(aOption);\n\n      const theText = namesArray ? namesArray[i - min] : i;\n\n      aOption.text = theText;\n      aOption.value = i;\n    }\n\n    return theSelect;\n  }\n\n  static absoluteDate(date) {\n    return date && new Date(date.getTime() + date.getTimezoneOffset()*60*1000);\n  }\n}\n\nwindow.thePicker = new Picker();\n\nexport default window.thePicker;\n","/*\n * Date Format 1.2.3\n * (c) 2007-2009 Steven Levithan <stevenlevithan.com>\n * MIT license\n *\n * Includes enhancements by Scott Trenda <scott.trenda.net>\n * and Kris Kowal <cixar.com/~kris.kowal/>\n *\n * Accepts a date, a mask, or a date and a mask.\n * Returns a formatted version of the given date.\n * The date defaults to the current date/time.\n * The mask defaults to dateFormat.masks.default.\n */\n\n'use strict';\n\nvar dateFormat = (function() {\n  var token = /d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\\1?|[LloSZWN]|'[^']*'|'[^']*'/g;\n  var timezone = /\\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\\d{4})?)\\b/g;\n  var timezoneClip = /[^-+\\dA-Z]/g;\n\n  // Regexes and supporting functions are cached through closure\n  return function (date, mask, utc, gmt) {\n\n    // You can't provide utc if you skip other args (use the 'UTC:' mask prefix)\n    if(arguments.length === 1 && kindOf(date) === 'string' && !/\\d/.test(date)) {\n      mask = date;\n      date = undefined;\n    }\n\n    date = date || new Date;\n\n    if(!(date instanceof Date)) {\n      date = new Date(date);\n    }\n\n    if (isNaN(date)) {\n      throw TypeError('Invalid date');\n    }\n\n    mask = String(dateFormat.masks[mask] || mask || dateFormat.masks['default']);\n\n    // Allow setting the utc/gmt argument via the mask\n    var maskSlice = mask.slice(0, 4);\n    if (maskSlice === 'UTC:' || maskSlice === 'GMT:') {\n      mask = mask.slice(4);\n      utc = true;\n      if (maskSlice === 'GMT:') {\n        gmt = true;\n      }\n    }\n\n    var _ = utc ? 'getUTC' : 'get';\n    var d = date[_ + 'Date']();\n    var D = date[_ + 'Day']();\n    var m = date[_ + 'Month']();\n    var y = date[_ + 'FullYear']();\n    var H = date[_ + 'Hours']();\n    var M = date[_ + 'Minutes']();\n    var s = date[_ + 'Seconds']();\n    var L = date[_ + 'Milliseconds']();\n    var o = utc ? 0 : date.getTimezoneOffset();\n    var W = getWeek(date);\n    var N = getDayOfWeek(date);\n    var flags = {\n      d:    d,\n      dd:   pad(d),\n      ddd:  dateFormat.i18n.dayNames[D],\n      dddd: dateFormat.i18n.dayNames[D + 7],\n      m:    m + 1,\n      mm:   pad(m + 1),\n      mmm:  dateFormat.i18n.monthNames[m],\n      mmmm: dateFormat.i18n.monthNames[m + 12],\n      yy:   String(y).slice(2),\n      yyyy: y,\n      h:    H % 12 || 12,\n      hh:   pad(H % 12 || 12),\n      H:    H,\n      HH:   pad(H),\n      M:    M,\n      MM:   pad(M),\n      s:    s,\n      ss:   pad(s),\n      l:    pad(L, 3),\n      L:    pad(Math.round(L / 10)),\n      t:    H < 12 ? 'a'  : 'p',\n      tt:   H < 12 ? 'am' : 'pm',\n      T:    H < 12 ? 'A'  : 'P',\n      TT:   H < 12 ? 'AM' : 'PM',\n      Z:    gmt ? 'GMT' : utc ? 'UTC' : (String(date).match(timezone) || ['']).pop().replace(timezoneClip, ''),\n      o:    (o > 0 ? '-' : '+') + pad(Math.floor(Math.abs(o) / 60) * 100 + Math.abs(o) % 60, 4),\n      S:    ['th', 'st', 'nd', 'rd'][d % 10 > 3 ? 0 : (d % 100 - d % 10 != 10) * d % 10],\n      W:    W,\n      N:    N\n    };\n\n    return mask.replace(token, function (match) {\n      if(match in flags) {\n        return flags[match];\n      }\n      return match.slice(1, match.length - 1);\n    });\n  };\n})();\n\ndateFormat.masks = {\n  'default':               'ddd mmm dd yyyy HH:MM:ss',\n  'shortDate':             'm/d/yy',\n  'mediumDate':            'mmm d, yyyy',\n  'longDate':              'mmmm d, yyyy',\n  'fullDate':              'dddd, mmmm d, yyyy',\n  'shortTime':             'h:MM TT',\n  'mediumTime':            'h:MM:ss TT',\n  'longTime':              'h:MM:ss TT Z',\n  'isoDate':               'yyyy-mm-dd',\n  'isoTime':               'HH:MM:ss',\n  'isoDateTime':           'yyyy-mm-dd\\'T\\'HH:MM:sso',\n  'isoUtcDateTime':        'UTC:yyyy-mm-dd\\'T\\'HH:MM:ss\\'Z\\'',\n  'expiresHeaderFormat':   'ddd, dd mmm yyyy HH:MM:ss Z'\n};\n\n// Internationalization strings\ndateFormat.i18n = {\n  dayNames: [\n    'Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat',\n    'Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'\n  ],\n  monthNames: [\n    'Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec',\n    'January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September',\n    'October', 'November', 'December'\n  ]\n};\n\nfunction pad(val, len) {\n  val = String(val);\n  len = len || 2;\n  while(val.length < len) {\n    val = `0${val}`;\n  }\n  return val;\n}\n\n/**\n * Get the ISO 8601 week number\n * Based on comments from\n * http://techblog.procurios.nl/k/n618/news/view/33796/14863/Calculate-ISO-8601-week-and-year-in-javascript.html\n *\n * @param  {Object} `date`\n * @return {Number}\n */\nfunction getWeek(date) {\n  // Remove time components of date\n  var targetThursday = new Date(date.getFullYear(), date.getMonth(), date.getDate());\n\n  // Change date to Thursday same week\n  targetThursday.setDate(targetThursday.getDate() - ((targetThursday.getDay() + 6) % 7) + 3);\n\n  // Take January 4th as it is always in week 1 (see ISO 8601)\n  var firstThursday = new Date(targetThursday.getFullYear(), 0, 4);\n\n  // Change date to Thursday same week\n  firstThursday.setDate(firstThursday.getDate() - ((firstThursday.getDay() + 6) % 7) + 3);\n\n  // Check if daylight-saving-time-switch occured and correct for it\n  var ds = targetThursday.getTimezoneOffset() - firstThursday.getTimezoneOffset();\n  targetThursday.setHours(targetThursday.getHours() - ds);\n\n  // Number of weeks between target Thursday and first Thursday\n  var weekDiff = (targetThursday - firstThursday) / (86400000*7);\n  return 1 + Math.floor(weekDiff);\n}\n\n/**\n * Get ISO-8601 numeric representation of the day of the week\n * 1 (for Monday) through 7 (for Sunday)\n *\n * @param  {Object} `date`\n * @return {Number}\n */\nfunction getDayOfWeek(date) {\n  var dow = date.getDay();\n  if(dow === 0) {\n    dow = 7;\n  }\n  return dow;\n}\n\n/**\n * kind-of shortcut\n * @param  {*} val\n * @return {String}\n */\nfunction kindOf(val) {\n  if (val === null) {\n    return 'null';\n  }\n\n  if (val === undefined) {\n    return 'undefined';\n  }\n\n  if (typeof val !== 'object') {\n    return typeof val;\n  }\n\n  if (Array.isArray(val)) {\n    return 'array';\n  }\n\n  return {}.toString.call(val)\n    .slice(8, -1).toLowerCase();\n};\n\nexport default dateFormat;\n","// Localizations for UI text.\n// Keys correspond to applicable `lang` values, delimited by an underscore.\n// Days and months must be listed in the order they should display.\n\nconst locales = {\n  'en_en-US_en-UK': {\n    days: [\n      `Su`,\n      `Mo`,\n      `Tu`,\n      `We`,\n      `Th`,\n      `Fr`,\n      `Sa`\n    ],\n    months: [\n      `January`,\n      `February`,\n      `March`,\n      `April`,\n      `May`,\n      `June`,\n      `July`,\n      `August`,\n      `September`,\n      `October`,\n      `November`,\n      `December`\n    ]\n  },\n  /* Simplified Chinese */\n  'zh_zh-CN': {\n    days: [\n      `星期天`,\n      `星期一`,\n      `星期二`,\n      `星期三`,\n      `星期四`,\n      `星期五`,\n      `星期六`\n    ],\n    months: [\n      `一月`,\n      `二月`,\n      `三月`,\n      `四月`,\n      `五月`,\n      `六月`,\n      `七月`,\n      `八月`,\n      `九月`,\n      `十月`,\n      `十一月`,\n      `十二月`\n    ]\n  },\n  /* Simplified Chinese, informal*/\n  'zh-Hans_zh-Hans-CN': {\n    days: [\n      `周日`,\n      `周一`,\n      `周二`,\n      `周三`,\n      `周四`,\n      `周五`,\n      `周六`\n    ],\n    months: [\n      `一月`,\n      `二月`,\n      `三月`,\n      `四月`,\n      `五月`,\n      `六月`,\n      `七月`,\n      `八月`,\n      `九月`,\n      `十月`,\n      `十一月`,\n      `十二月`\n    ]\n  },\n  /* Traditional Chinese */\n  'zh-Hant_zh-Hant-TW': {\n    days: [\n      `週日`,\n      `週一`,\n      `週二`,\n      `週三`,\n      `週四`,\n      `週五`,\n      `週六`\n    ],\n    months: [\n      `一月`,\n      `二月`,\n      `三月`,\n      `四月`,\n      `五月`,\n      `六月`,\n      `七月`,\n      `八月`,\n      `九月`,\n      `十月`,\n      `十一月`,\n      `十二月`\n    ]\n  },\n  /* German (Germany) */\n  'de_de-DE': {\n    days: [\n      `Sonntag`,\n      `Montag`,\n      `Dienstag`,\n      `Mittwoch`,\n      `Donnerstag`,\n      `Freitag`,\n      `Samstag`\n    ],\n    months: [\n      `Januar`,\n      `Februar`,\n      `März`,\n      `April`,\n      `Mai`,\n      `Juni`,\n      `Juli`,\n      `August`,\n      `September`,\n      `Oktober`,\n      `November`,\n      `Dezember`\n    ]\n  },\n  /* Dutch */\n  'nl_nl-NL_nl-BE': {\n    days: [\n      `Zondag`,\n      `Maandag`,\n      `Dinsdag`,\n      `Woensdag`,\n      `Donderdag`,\n      `Vrijdag`,\n      `Zaterdag`\n    ],\n    months: [\n      `Januari`,\n      `Februari`,\n      `Maart`,\n      `April`,\n      `Mei`,\n      `Juni`,\n      `Juli`,\n      `Augustus`,\n      `September`,\n      `Oktober`,\n      `November`,\n      `December`\n    ],\n    today: `Vandaag`,\n    format: `D/M/Y`\n  },\n  /* Portuguese */\n  'pt_pt-BR': {\n    days: [\n      `Dom`,\n      `Seg`,\n      `Ter`,\n      `Qua`,\n      `Qui`,\n      `Sex`,\n      `Sáb`\n    ],\n    months: [\n      `Janeiro`,\n      `Fevereiro`,\n      `Março`,\n      `Abril`,\n      `Maio`,\n      `Junho`,\n      `Julho`,\n      `Agosto`,\n      `Setembro`,\n      `Outubro`,\n      `Novembro`,\n      `Dezembro`\n    ],\n    today: \"Hoje\"\n  },\n  /* French */\n  'fr_fr-FR_fr-BE': {\n    days: [\n      `Di`,\n      `Lu`,\n      `Ma`,\n      `Me`,\n      `Je`,\n      `Ve`,\n      `Sa`\n    ],\n    months: [\n      `Janvier`,\n      `Février`,\n      `Mars`,\n      `Avril`,\n      `Mai`,\n      `Juin`,\n      `Juillet`,\n      `Août`,\n      `Septembre`,\n      `Octobre`,\n      `Novembre`,\n      `Décembre`\n    ],\n    today: `Aujourd'hui`,\n    format: `D/M/Y`\n  },\n  /* Spanish */\n  'es_es-VE': {\n    days: [\n      `Do`,\n      `Lu`,\n      `Ma`,\n      `Mi`,\n      `Ju`,\n      `Vi`,\n      `Sa`\n    ],\n    months: [\n      `Enero`,\n      `Febrero`,\n      `Marzo`,\n      `Abril`,\n      `Mayo`,\n      `Junio`,\n      `Julio`,\n      `Agosto`,\n      `Septiembre`,\n      `Octubre`,\n      `Noviembre`,\n      `Diciembre`\n    ],\n    today: `Hoy`,\n    format: `D/M/Y`\n  },\n  /* Danish */\n  'da_da-dk': {\n    days: [\n      `Søndag`,\n      `Mandag`,\n      `Tirsdag`,\n      `Onsdag`,\n      `Torsdag`,\n      `Fredag`,\n      `Lørdag`\n    ],\n    months: [\n      `Januar`,\n      `Februar`,\n      `Marts`,\n      `April`,\n      `Maj`,\n      `Juni`,\n      `Juli`,\n      `August`,\n      `September`,\n      `Oktober`,\n      `November`,\n      `December`\n    ],\n    today: `I dag`,\n    format: `dd/MM-YYYY`\n  },\n  /* Russian */\n  'ru_ru-RU_ru-UA_ru-KZ_ru-MD': {\n    days: [\n      `Вс`,\n      `Пн`,\n      `Вт`,\n      `Ср`,\n      `Чт`,\n      `Пт`,\n      `Сб`\n    ],\n    months: [\n      `Январь`,\n      `Февраль`,\n      `Март`,\n      `Апрель`,\n      `Май`,\n      `Июнь`,\n      `Июль`,\n      `Август`,\n      `Сентябрь`,\n      `Октябрь`,\n      `Ноябрь`,\n      `Декабрь`\n    ],\n    today: `Сегодня`,\n    format: `D.M.Y`\n  },\n  /* Ukrainian */\n  'uk_uk-UA': {\n    days: [\n      `Нд`,\n      `Пн`,\n      `Вт`,\n      `Ср`,\n      `Чт`,\n      `Пт`,\n      `Сб`\n    ],\n    months: [\n      `Січень`,\n      `Лютий`,\n      `Березень`,\n      `Квітень`,\n      `Травень`,\n      `Червень`,\n      `Липень`,\n      `Серпень`,\n      `Вересень`,\n      `Жовтень`,\n      `Листопад`,\n      `Грудень`\n    ],\n    today: `Cьогодні`,\n    format: `D.M.Y`\n  },\n  /* Swedish (Sweden) */\n    'sv_sv-SE': {\n        days: [\n            `Söndag`,\n            `Måndag`,\n            `Tisdag`,\n            `Onsdag`,\n            `Torsdag`,\n            `Fredag`,\n            `Lördag`\n        ],\n        months: [\n            `Januari`,\n            `Februari`,\n            `Mars`,\n            `April`,\n            `Maj`,\n            `Juni`,\n            `Juli`,\n            `Augusti`,\n            `September`,\n            `Oktober`,\n            `November`,\n            `December`\n        ],\n        today: `Idag`,\n        format: `YYYY-MM-dd`\n    },\n  'test_test-TEST': {\n    days: [\n      `Foo`,\n      `Mon`,\n      `Tue`,\n      `Wed`,\n      `Thu`,\n      `Fri`,\n      `Sat`\n    ],\n    months: [\n      `Foo`,\n      `February`,\n      `March`,\n      `April`,\n      `May`,\n      `June`,\n      `July`,\n      `August`,\n      `September`,\n      `October`,\n      `November`,\n      `December`\n    ]\n  },\n  'ja': {\n    days: [\n      `日`,\n      `月`,\n      `火`,\n      `水`,\n      `木`,\n      `金`,\n      `土`\n    ],\n    months: [\n      `一月`,\n      `二月`,\n      `三月`,\n      `四月`,\n      `五月`,\n      `六月`,\n      `七月`,\n      `八月`,\n      `九月`,\n      `十月`,\n      `十一月`,\n      `十二月`\n    ],\n    today: `今日`,\n    format: `YYYY-MM-dd`\n  }\n};\n\nexport default locales;\n","import thePicker from './picker.js';\nimport locales from './locales.js';\nimport dateFormat from './dateformat.js';\n\nexport default class Input {\n  constructor(input) {\n    this.element = input;\n    this.element.setAttribute(`data-has-picker`, ``);\n\n    this.locale =\n      this.element.getAttribute(`lang`)\n      || document.body.getAttribute(`lang`)\n      || `en`;\n\n    this.format = this.element.getAttribute('date-format')\n      || document.body.getAttribute('date-format')\n      || this.element.getAttribute(`data-date-format`)\n      || document.body.getAttribute(`data-date-format`)\n      || `yyyy-mm-dd`;\n\n    this.localeText = this.getLocaleText();\n\n    Object.defineProperties(\n      this.element,\n      {\n        'valueAsDate': {\n          get: () => {\n            if(!this.element.value) {\n              return null;\n            }\n            const format = this.format || 'yyyy-mm-dd';\n            const parts = this.element.value.match(/(\\d+)/g);\n            let i = 0, fmt = {};\n\n            format.replace(/(yyyy|dd|mm)/g, part=> {\n              fmt[part] = i++;\n            });\n            return new Date(parts[fmt['yyyy']], parts[fmt['mm']]-1, parts[fmt['dd']]);\n          },\n          set: val => {\n            this.element.value = dateFormat(val, this.format);\n          }\n        },\n        'valueAsNumber': {\n          get: ()=> {\n            if(!this.element.value) {\n              return NaN;\n            }\n\n            return this.element.valueAsDate.valueOf();\n          },\n          set: val=> {\n            this.element.valueAsDate = new Date(val);\n          }\n        }\n      }\n    );\n\n    // Open the picker when the input get focus,\n    // also on various click events to capture it in all corner cases.\n    const showPicker = (e) => {\n      const elm = this.element;\n      elm.locale = this.localeText;\n      const didAttach = thePicker.attachTo(elm);\n    };\n    this.element.addEventListener(`focus`, showPicker);\n    this.element.addEventListener(`mouseup`, showPicker);\n\n    // Update the picker if the date changed manually in the input.\n    this.element.addEventListener(`keydown`, e => {\n      const date = new Date();\n\n      switch(e.keyCode) {\n        case 9:\n        case 27:\n          thePicker.hide();\n          break;\n        case 38:\n          if(this.element.valueAsDate) {\n            date.setDate(this.element.valueAsDate.getDate() + 1);\n            this.element.valueAsDate = date;\n            thePicker.pingInput();\n          }\n          break;\n        case 40:\n          if(this.element.valueAsDate) {\n            date.setDate(this.element.valueAsDate.getDate() - 1);\n            this.element.valueAsDate = date;\n            thePicker.pingInput();\n          }\n          break;\n        default:\n          break;\n      }\n\n      thePicker.sync();\n    });\n\n    this.element.addEventListener(`keyup`, e => {\n      thePicker.sync();\n    });\n  }\n\n  getLocaleText() {\n    const locale = this.locale.toLowerCase();\n\n    for(const localeSet in locales) {\n      const localeList = localeSet.split(`_`);\n      localeList.map(el=>el.toLowerCase());\n\n      if(\n        !!~localeList.indexOf(locale)\n        || !!~localeList.indexOf(locale.substr(0,2))\n      ) {\n        return locales[localeSet];\n      }\n    }\n  }\n\n  // Return false if the browser does not support input[type=\"date\"].\n  static supportsDateInput() {\n    const input = document.createElement(`input`);\n    input.setAttribute(`type`, `date`);\n\n    const notADateValue = `not-a-date`;\n    input.setAttribute(`value`, notADateValue);\n\n    return !(input.value === notADateValue);\n  }\n\n  // Will add the Picker to all inputs in the page.\n  static addPickerToDateInputs() {\n    // Get and loop all the input[type=\"date\"]s in the page that do not have `[data-has-picker]` yet.\n    const dateInputs = document.querySelectorAll(`input[type=\"date\"]:not([data-has-picker])`);\n    const length = dateInputs.length;\n\n    if(!length) {\n      return false;\n    }\n\n    for(let i = 0; i < length; ++i) {\n      new Input(dateInputs[i]);\n    }\n  }\n\n  static addPickerToOtherInputs() {\n    // Get and loop all the input[type=\"text\"] class date-polyfill in the page that do not have `[data-has-picker]` yet.\n    const dateInputs = document.querySelectorAll(`input[type=\"text\"].date-polyfill:not([data-has-picker])`);\n    const length = dateInputs.length;\n\n    if(!length) {\n      return false;\n    }\n\n    for(let i = 0; i < length; ++i) {\n      new Input(dateInputs[i]);\n    }\n  }\n}\n","import './date-input-polyfill.css';\nimport Input from './input.js';\n\nconst addPickers = () => {\n  Input.addPickerToOtherInputs();\n  // Check if type=\"date\" is supported.\n  if(!Input.supportsDateInput()) {\n    Input.addPickerToDateInputs();\n  }\n};\n\n// Run the above code on any <input type=\"date\"> in the document, also on dynamically created ones.\naddPickers();\n\ndocument.addEventListener(`DOMContentLoaded`, () => {\n  addPickers();\n});\n\n// This is also on mousedown event so it will capture new inputs that might\n// be added to the DOM dynamically.\ndocument.querySelector(`body`).addEventListener(`mousedown`, () => {\n  addPickers();\n});\n"],"names":["css","ref","insertAt","document","head","getElementsByTagName","style","createElement","type","firstChild","insertBefore","appendChild","styleSheet","cssText","createTextNode","Picker","window","thePicker","date","Date","input","isOpen","container","year","createRangeSelect","this","getFullYear","className","addEventListener","_this","setYear","value","refreshDaysMatrix","yearWrapper","month","setMonth","monthWrapper","today","textContent","getMonth","slice","getDate","setInput","daysMatrix","daysHead","days","e","tgt","target","hasAttribute","curSel","querySelector","removeAttribute","setAttribute","setDate","parseInt","hide","body","removeClickOut","el","isPicker","parentNode","getAttribute","removeBlur","blur","removeEventListener","setTimeout","_this2","onpopstate","element","rekt","getBoundingClientRect","top","height","documentElement","scrollTop","contRekt","width","classWithOutPos","_this3","replace","trim","base","right","left","scrollLeft","show","refreshLocale","sync","isNaN","parse","valueAsDate","absoluteDate","focus","_this4","pingInput","locale","daysHeadHTML","i","len","length","push","innerHTML","join","months","startDay","getDay","maxDays","selDate","selMatrix","matrixHTML","dayNum","selected","inputEvent","changeEvent","Event","createEvent","initEvent","dispatchEvent","theSelect","min","max","namesArray","aOption","theText","text","getTime","getTimezoneOffset","token","timezone","timezoneClip","locales","format","dateFormat","mask","utc","gmt","arguments","kindOf","test","undefined","TypeError","maskSlice","String","masks","_","d","D","m","y","H","M","s","L","o","W","getWeek","N","getDayOfWeek","flags","dd","pad","ddd","i18n","dayNames","dddd","mm","mmm","monthNames","mmmm","yy","yyyy","h","hh","HH","MM","ss","l","Math","round","t","tt","T","TT","Z","match","pop","floor","abs","S","val","targetThursday","firstThursday","ds","setHours","getHours","weekDiff","dow","_typeof","Array","isArray","toString","call","toLowerCase","Input","localeText","getLocaleText","Object","defineProperties","get","parts","fmt","part","set","valueOf","NaN","showPicker","elm","attachTo","keyCode","localeSet","localeList","split","map","indexOf","substr","notADateValue","dateInputs","querySelectorAll","addPickers","addPickerToOtherInputs","supportsDateInput","addPickerToDateInputs"],"mappings":"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"}